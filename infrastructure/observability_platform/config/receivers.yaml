otlp:
  protocols:
    grpc:
      endpoint: 0.0.0.0:4317
    http:
      endpoint: 0.0.0.0:4318

filelog:
  include: [/var/log/application/*.log, /var/log/infrastructure/*.log]
  start_at: beginning
  operators:
    - type: regex_parser
      regex: '^(?P<time>\d{4}-\d{2}-\d{2} \d{2}:\d{2}:\d{2}) \[(?P<level>\w+)\] (?P<message>.*)$'
      timestamp:
        parse_from: attributes.time
        layout: '%Y-%m-%d %H:%M:%S'
      severity:
        parse_from: attributes.level
        mapping:
          DEBUG: 1
          INFO: 9
          WARN: 13
          WARNING: 13
          ERROR: 17

hostmetrics:
  collection_interval: 30s
  scrapers:
    cpu:
    disk:
    memory:
    network:

docker_stats:
  collection_interval: 30s
  endpoint: unix:///var/run/docker.sock

prometheus:
  config:
    scrape_configs:
      - job_name: 'otel-collector'
        static_configs:
          - targets: ['localhost:8888']
        scrape_interval: 30s
